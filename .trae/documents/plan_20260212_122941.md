I will migrate the secondary development features from the Electron version (`D:\code\12zyhh\qq-farm-bot`) to your current Vue version (`d:\code\qq-farm-bot`), removing the Electron dependency while keeping the Vue architecture.

### 1. Backend Core & Logic Migration

* **Proto:** Copy `mallpb.proto` and update `src/proto.js` to support new game protocols.

* **New Modules:** Import `src/mall.js` (Mall) and `src/notifications.js` (Notification System).

* **Logic Upgrade:** Overwrite core logic files in `src/` (including `farm.js`, `friend.js`, `task.js`, etc.) with the enhanced versions from the source project to apply all functional improvements.

* **Store:** Update `server/store.js` to support multi-account management and daily statistics, while keeping the file-based storage compatible with the Node.js environment (removing Electron paths).

### 2. Server-Side Updates

* **Bot Controller:** Update `server/bot.js` to include all new API methods (Friend Farm details, Stealing, Operation Limits, etc.) from the source project.

* **IPC/Socket:** Update `server/ipc.js` to register Socket.IO handlers for all the new commands, replacing the Electron IPC mechanism.

### 3. Frontend (Vue) Migration

* **New Views:** Port the following views from the source project to `web/src/views/`, converting them from TypeScript to JavaScript:

  * `FriendFarmView.vue` (Friend's Farm)

  * `FriendsView.vue` (Friend List)

  * `LandsView.vue` (Land Management)

  * `LimitsView.vue` (Daily Limits)

  * `NotificationsView.vue` (Notifications)

  * `TasksView.vue` (Tasks)

* **Logic Adaptation:** Refactor the new Vue components to use `useBot` composable and `socket.io` instead of `window.electronAPI`.

* **Composables:** Update `web/src/composables/useBot.js` to expose the new functionality to components.

* **Routing & Nav:** Update `web/src/router/index.js` and `web/src/App.vue` to include navigation for the new pages.

### 4. Verification

* Verify the server starts and connects to the game.

* Verify the web interface loads and navigates to new pages.

* Verify core features (Planting, Friend interaction, Tasks) work with the new codebase.

